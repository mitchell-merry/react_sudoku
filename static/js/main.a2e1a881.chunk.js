(this.webpackJsonpreact_sudoku=this.webpackJsonpreact_sudoku||[]).push([[0],{13:function(e,r,t){e.exports={grid:"Controls_grid__1V3am",row:"Controls_row__2zoL9",action_button:"Controls_action_button__3Drga",number_button:"Controls_number_button__nPbV3"}},25:function(e,r,t){e.exports={app:"src_app__71Sw-"}},39:function(e,r,t){},45:function(e,r,t){"use strict";t.r(r),t.d(r,"App",(function(){return J}));var n=t(8),c=t(0),o=t(14),a=t.n(o),l=(t(39),t(25)),u=t.n(l),i=t(11),d=t(26),s=function(e){var r,t=[],n=Object(d.a)(e);try{var c=function(){var e=r.value;return null===e.value?"continue":t.some((function(r){return r===e.value}))?{v:!1}:void t.push(e.value)};for(n.s();!(r=n.n()).done;){var o=c();if("continue"!==o&&"object"===typeof o)return o.v}}catch(a){n.e(a)}finally{n.f()}return!0},_=function(e,r){for(var t=[],n=0;n<e.N*e.N;n++)t.push(e.grid[r][n]);return t},f=function(e,r){for(var t=[],n=0;n<e.N*e.N;n++)t.push(e.grid[n][r]);return t},v=function(e,r,t){for(var n=[],c=0;c<e.N*e.N;c++){var o=r*e.N+Math.floor(c/e.N),a=t*e.N+c%e.N;n.push(e.grid[o][a])}return n},b=function(e,r){return[Math.floor(e[0]/r),Math.floor(e[1]/r)]},j=function(e,r,t){return e[0]===r[0]||e[1]===r[1]||function(e,r,t){var n=[b(e,t),b(r,t)],c=n[0],o=n[1];return c[0]===o[0]&&c[1]===o[1]}(e,r,t)},N=function(e,r){return r.grid[e[0]][e[1]].value},g=function(e){for(var r=0;r<e.N*e.N;r++)if(!s(_(e,r)))return!1;for(var t=0;t<e.N*e.N;t++)if(!s(f(e,t)))return!1;for(var n=0;n<e.N*e.N;n++)if(!s(v(e,Math.floor(n/e.N),n%e.N)))return!1;return!0},m=function(e,r){var t=0;return e.forEach((function(e){e.value===r&&t++})),t},h=function(e){return Array.from({length:e*e},(function(e,r){return!1}))},O=function(e,r){e.grid.forEach((function(t,n){e.grid[n].forEach((function(t,c){e.grid[n][c].state===r&&(e.grid[n][c]={value:null,state:null,marks:h(e.N)})}))}))},k=function(e){for(var r=e.length-1;r>=0;r--){var t=Math.floor(Math.random()*(r+1)),n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]}return e},p=function e(r,t,c){var o=function(e){for(var r=0;r<e.grid.length;r++)for(var t=0;t<e.grid[r].length;t++)if(null===e.grid[r][t].value)return[r,t];return null}(r);if(null===o)return 1;var a=Object(n.a)(o,2),l=a[0],u=a[1],i=0,d=Array.from({length:r.N*r.N},(function(e,r){return r+1}));t&&k(d);for(var s=0,_=d;s<_.length;s++){var f=_[s];if(r.grid[l][u]={value:f,state:t?"static":"solved",marks:r.grid[l][u].marks},g(r)){var v=e(r,t,c);if(!c&&1===v)return v;i+=v}}return r.grid[l][u]={value:null,state:null,marks:r.grid[l][u].marks},i},y=function(e,r){p(e,!0,!1);for(var t=k(function(e){return Array.from({length:e.N*e.N*e.N*e.N},(function(r,t){return[Math.floor(t/(e.N*e.N)),t%(e.N*e.N)]}))}(e));r>0&&t.length>0;){var n=e.grid[t[0][0]][t[0][1]].value;e.grid[t[0][0]][t[0][1]]={value:null,state:null,marks:h(e.N)},1!==p(e,!1,!0)?e.grid[t[0][0]][t[0][1]]={value:n,state:"static",marks:h(e.N)}:(r--,O(e,"solved")),t.shift()}},x=function(e){return{N:e,grid:Array.from({length:e*e},(function(r,t){return Array.from({length:e*e},(function(r,t){return{value:null,state:null,marks:h(e)}}))}))}},w=function(e){return{N:e.N,grid:e.grid.map((function(e){return e.slice()}))}},G=t(5),M=t.n(G),S=t(3),A=t(24),C={ArrowUp:[-1,0],ArrowDown:[1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]},E=function(e){var r=e.N,t=e.controlFunctions,o=e.editModeState,a=e.testModeState,l=Object(c.useState)(x(r)),u=Object(n.a)(l,2),d=u[0],s=u[1],g=Object(c.useState)([0,0]),h=Object(n.a)(g,2),O=h[0],k=h[1],G=Object(n.a)(o,2),E=G[0],B=G[1],D=Object(n.a)(a,2),F=D[0],L=D[1],I=function(){s((function(e){var r=x(e.N);return y(r,50),r}))},J=function(){s((function(e){var r=w(e);return p(r,!1,!1),r}))},P=function(e){var r,t=Number(e.key),n=!0;Object.keys(C).includes(e.key)?(r=e.key,k((function(e){var t,n,c=(n=C[r],[(t=e)[0]+n[0],t[1]+n[1]]);return function(e,r){return e[0]<0||e[1]<0||e[0]>=r.grid.length||e[1]>=r.grid[e[0]].length}(c,d)?e:c}))):isNaN(t)||" "===e.key?"Delete"===e.key||"Backspace"===e.key?Q(O[0],O[1],null):" "===e.key?J():"e"===e.key?B():"t"===e.key?L():n=!1:Q(O[0],O[1],t),n&&e.preventDefault()};Object(c.useEffect)((function(){I()}),[]),Object(c.useEffect)((function(){return document.addEventListener("keydown",P),function(){return document.removeEventListener("keydown",P)}}),[O,E,F]);var Q=function(e,r,t){s((function(n){var c=w(n);if("static"===c.grid[e][r].state)return c;E?null!==t&&0!==t&&(c.grid[e][r].marks[t-1]=!c.grid[e][r].marks[t-1]):N([e,r],c)===t||0===t?c.grid[e][r].value=null:(c.grid[e][r].value=t,c.grid[e][r].state=F?"test":null);return c}))};return t.current.generate=I,t.current.solve=J,t.current.loadCell=function(e){Q(O[0],O[1],e)},Object(S.jsx)("div",{className:M.a.grid,children:d.grid.map((function(e,r){return Object(S.jsx)("div",{className:M.a.row,children:e.map((function(e,t){var n,c,o=(c=[r,t],(n=O)[0]===c[0]&&n[1]===c[1]?"coordinate":function(e,r,t){var n=[N(e,t),N(r,t)],c=n[0];return null!==c&&c===n[1]}(O,[r,t],d)?"number":j(O,[r,t],d.N)?"region":null),a=function(e,r){return m(_(e,r[0]),N(r,e))<=1&&m(f(e,r[1]),N(r,e))<=1&&m(v(e,b(r,e.N)[0],b(r,e.N)[1]),N(r,e))<=1}(d,[r,t])?e.state:"invalid",l=A(M.a.cell,Object(i.a)({},M.a.selected_cell,"coordinate"===o),Object(i.a)({},M.a.selected_number,"number"===o),Object(i.a)({},M.a.selected_region,"region"===o),Object(i.a)({},M.a.cell_static,"static"===a),Object(i.a)({},M.a.cell_solved,"solved"===a),Object(i.a)({},M.a.cell_test,"test"===a),Object(i.a)({},M.a.cell_invalid,"invalid"===a),Object(i.a)({},M.a.cell_top_border_soft,r%d.N!==0),Object(i.a)({},M.a.cell_left_border_soft,t%d.N!==0),Object(i.a)({},M.a.cell_top_border_hard,r%d.N===0),Object(i.a)({},M.a.cell_left_border_hard,t%d.N===0));return Object(S.jsx)("div",{className:l,onMouseDown:function(){return function(e,r){k((function(t){return[e,r]}))}(r,t)},children:null!==e.value?e.value:Array.from({length:d.N},(function(n,c){return Object(S.jsx)("div",{className:M.a.mark_row,children:Array.from({length:d.N},(function(n,o){return Object(S.jsx)("div",{className:M.a.mark_cell,children:e.marks[c*d.N+o]?c*d.N+o+1:" "},"".concat(r," ").concat(t," ").concat(c," ").concat(o))}))},"".concat(r," ").concat(t," ").concat(c))}))},"".concat(r," ").concat(t))}))},r)}))})},B=t(64),D=t(63),F=t(13),L=t.n(F),I=(t(24),function(e){var r=e.N,t=e.controlFunctions,c=e.editModeState,o=e.testModeState,a=Object(n.a)(c,2),l=a[0],u=a[1],i=Object(n.a)(o,2),d=i[0],s=i[1];return Object(S.jsxs)("div",{className:L.a.grid,children:[Object(S.jsxs)("div",{className:L.a.row,children:[Object(S.jsx)("button",{className:L.a.action_button,onClick:function(){var e;return(null===(e=t.current)||void 0===e?void 0:e.generate)&&t.current.generate()},children:"Generate"}),Object(S.jsx)("button",{className:L.a.action_button,onClick:function(){var e;return(null===(e=t.current)||void 0===e?void 0:e.solve)&&t.current.solve()},children:"Solve"})]}),Object(S.jsxs)("div",{className:L.a.row,children:[Object(S.jsx)(B.a,{control:Object(S.jsx)(D.a,{checked:l,onChange:u,name:"checkedB",color:"primary"}),label:"Edit"}),Object(S.jsx)(B.a,{control:Object(S.jsx)(D.a,{checked:d,onChange:s,name:"checkedB",color:"primary"}),label:"Test"})]}),Array.from({length:r},(function(e,n){return Object(S.jsx)("div",{className:L.a.row,children:Array.from({length:r},(function(e,c){return Object(S.jsx)("div",{className:L.a.cell,children:Object(S.jsx)("button",{className:L.a.number_button,onClick:function(){var e;return(null===(e=t.current)||void 0===e?void 0:e.loadCell)&&t.current.loadCell(n*r+c+1)},children:n*r+c+1},n*r+c+1)},"".concat(n," ").concat(c))}))},n)}))]})}),J=function(){var e=Object(c.useRef)({}),r=Object(c.useState)(!1),t=Object(n.a)(r,2),o=t[0],a=t[1],l=Object(c.useState)(!1),i=Object(n.a)(l,2),d=i[0],s=i[1],_=function(){a((function(e){return!e}))},f=function(){s((function(e){return!e}))};return Object(S.jsxs)("div",{className:u.a.app,children:[Object(S.jsx)(E,{N:3,controlFunctions:e,editModeState:[o,_],testModeState:[d,f]}),Object(S.jsx)(I,{N:3,controlFunctions:e,editModeState:[o,_],testModeState:[d,f]})]})};a.a.render(Object(S.jsx)(J,{}),document.getElementById("root"))},5:function(e,r,t){e.exports={grid:"Grid_grid__1_G_b",row:"Grid_row__2i5tn",cell:"Grid_cell__2Qb8m",selected_cell:"Grid_selected_cell__anmyI",selected_region:"Grid_selected_region__UIGkt",selected_number:"Grid_selected_number__ACSJx",cell_static:"Grid_cell_static__a53Fw",cell_solved:"Grid_cell_solved__2rcXD",cell_test:"Grid_cell_test__2ZzjS",cell_invalid:"Grid_cell_invalid__qYQ_B",cell_left_border_soft:"Grid_cell_left_border_soft__3V9ja",cell_top_border_soft:"Grid_cell_top_border_soft__3woQe",cell_left_border_hard:"Grid_cell_left_border_hard__1BuMv",cell_top_border_hard:"Grid_cell_top_border_hard__32fsp",mark_row:"Grid_mark_row__3PPpu",mark_cell:"Grid_mark_cell__2oxgr"}}},[[45,1,2]]]);
//# sourceMappingURL=main.a2e1a881.chunk.js.map