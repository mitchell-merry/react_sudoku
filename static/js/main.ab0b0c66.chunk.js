(this.webpackJsonpreact_sudoku=this.webpackJsonpreact_sudoku||[]).push([[0],{12:function(r,e,t){r.exports={grid:"Controls_grid__1V3am",row:"Controls_row__2zoL9",action_button:"Controls_action_button__3Drga",number_button:"Controls_number_button__nPbV3"}},25:function(r,e,t){r.exports={app:"src_app__71Sw-"}},39:function(r,e,t){},45:function(r,e,t){"use strict";t.r(e),t.d(e,"App",(function(){return J}));var n=t(13),o=t(0),c=t(14),a=t.n(c),l=(t(39),t(25)),u=t.n(l),i=t(11),d=t(26),s=function(r){var e,t=[],n=Object(d.a)(r);try{var o=function(){var r=e.value;return null===r.value?"continue":t.some((function(e){return e===r.value}))?{v:!1}:void t.push(r.value)};for(n.s();!(e=n.n()).done;){var c=o();if("continue"!==c&&"object"===typeof c)return c.v}}catch(a){n.e(a)}finally{n.f()}return!0},f=function(r,e){for(var t=[],n=0;n<r.N*r.N;n++)t.push(r.grid[e][n]);return t},_=function(r,e){for(var t=[],n=0;n<r.N*r.N;n++)t.push(r.grid[n][e]);return t},v=function(r,e,t){for(var n=[],o=0;o<r.N*r.N;o++){var c=e*r.N+Math.floor(o/r.N),a=t*r.N+o%r.N;n.push(r.grid[c][a])}return n},b=function(r,e){return[Math.floor(r[0]/e),Math.floor(r[1]/e)]},g=function(r,e,t){return r[0]===e[0]||r[1]===e[1]||function(r,e,t){var n=[b(r,t),b(e,t)],o=n[0],c=n[1];return o[0]===c[0]&&o[1]===c[1]}(r,e,t)},N=function(r,e){return e.grid[r[0]][r[1]].value},m=function(r){for(var e=0;e<r.N*r.N;e++)if(!s(f(r,e)))return!1;for(var t=0;t<r.N*r.N;t++)if(!s(_(r,t)))return!1;for(var n=0;n<r.N*r.N;n++)if(!s(v(r,Math.floor(n/r.N),n%r.N)))return!1;return!0},j=function(r,e){var t=0;return r.forEach((function(r){r.value===e&&t++})),t},h=function(r){return Array.from({length:r*r},(function(r,e){return!1}))},O=function(r,e){r.grid.forEach((function(t,n){r.grid[n].forEach((function(t,o){r.grid[n][o].state===e&&(r.grid[n][o]={value:null,state:null,marks:h(r.N)})}))}))},k=function(r){for(var e=r.length-1;e>=0;e--){var t=Math.floor(Math.random()*(e+1)),n=[r[t],r[e]];r[e]=n[0],r[t]=n[1]}return r},p=function r(e,t,o){var c=function(r){for(var e=0;e<r.grid.length;e++)for(var t=0;t<r.grid[e].length;t++)if(null===r.grid[e][t].value)return[e,t];return null}(e);if(null===c)return 1;var a=Object(n.a)(c,2),l=a[0],u=a[1],i=0,d=Array.from({length:e.N*e.N},(function(r,e){return e+1}));t&&k(d);for(var s=0,f=d;s<f.length;s++){var _=f[s];if(e.grid[l][u]={value:_,state:t?"static":"solved",marks:e.grid[l][u].marks},m(e)){var v=r(e,t,o);if(!o&&1===v)return v;i+=v}}return e.grid[l][u]={value:null,state:null,marks:e.grid[l][u].marks},i},y=function(r,e){p(r,!0,!1);for(var t=k(function(r){return Array.from({length:r.N*r.N*r.N*r.N},(function(e,t){return[Math.floor(t/(r.N*r.N)),t%(r.N*r.N)]}))}(r));e>0&&t.length>0;){var n=r.grid[t[0][0]][t[0][1]].value;r.grid[t[0][0]][t[0][1]]={value:null,state:null,marks:h(r.N)},1!==p(r,!1,!0)?r.grid[t[0][0]][t[0][1]]={value:n,state:"static",marks:h(r.N)}:(e--,O(r,"solved")),t.shift()}},x=function(r){return{N:r,grid:Array.from({length:r*r},(function(e,t){return Array.from({length:r*r},(function(e,t){return{value:null,state:null,marks:h(r)}}))}))}},w=function(r){return{N:r.N,grid:r.grid.map((function(r){return r.slice()}))}},G=t(5),M=t.n(G),A=t(3),E=t(24),C={ArrowUp:[-1,0],ArrowDown:[1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]},D=function(r){var e=r.N,t=r.controlFunctions,c=r.editMode,a=r.toggleEditMode,l=Object(o.useState)(x(e)),u=Object(n.a)(l,2),d=u[0],s=u[1],m=Object(o.useState)([0,0]),h=Object(n.a)(m,2),O=h[0],k=h[1],G=function(){s((function(r){var e=x(r.N);return y(e,45),e}))},D=function(){s((function(r){var e=w(r);return p(e,!1,!1),e}))},S=function(r){var e,t=Number(r.key),n=!0;Object.keys(C).includes(r.key)?(e=r.key,k((function(r){var t,n,o=(n=C[e],[(t=r)[0]+n[0],t[1]+n[1]]);return function(r,e){return r[0]<0||r[1]<0||r[0]>=e.grid.length||r[1]>=e.grid[r[0]].length}(o,d)?r:o}))):isNaN(t)||" "===r.key?"Delete"===r.key||"Backspace"===r.key?B(O[0],O[1],null):" "===r.key?D():"e"===r.key?a():n=!1:B(O[0],O[1],t),n&&r.preventDefault()};Object(o.useEffect)((function(){G()}),[]),Object(o.useEffect)((function(){return document.addEventListener("keydown",S),function(){return document.removeEventListener("keydown",S)}}),[O,c]);var B=function(r,e,t){s((function(n){var o=w(n);if("static"===o.grid[r][e].state)return o;if(c)null!==t&&0!==t&&(o.grid[r][e].marks[t-1]=!o.grid[r][e].marks[t-1]);else{var a=N([r,e],o);o.grid[r][e].value=a===t||0===t?null:t}return o}))};return t.current.generate=G,t.current.solve=D,t.current.loadCell=function(r){B(O[0],O[1],r)},Object(A.jsx)("div",{className:M.a.grid,children:d.grid.map((function(r,e){return Object(A.jsx)("div",{className:M.a.row,children:r.map((function(r,t){var n,o,c=(o=[e,t],(n=O)[0]===o[0]&&n[1]===o[1]?"coordinate":function(r,e,t){var n=[N(r,t),N(e,t)],o=n[0];return null!==o&&o===n[1]}(O,[e,t],d)?"number":g(O,[e,t],d.N)?"region":null),a=function(r,e){return j(f(r,e[0]),N(e,r))<=1&&j(_(r,e[1]),N(e,r))<=1&&j(v(r,b(e,r.N)[0],b(e,r.N)[1]),N(e,r))<=1}(d,[e,t])?r.state:"invalid",l=E(M.a.cell,Object(i.a)({},M.a.selected_cell,"coordinate"===c),Object(i.a)({},M.a.selected_number,"number"===c),Object(i.a)({},M.a.selected_region,"region"===c),Object(i.a)({},M.a.cell_static,"static"===a),Object(i.a)({},M.a.cell_solved,"solved"===a),Object(i.a)({},M.a.cell_invalid,"invalid"===a),Object(i.a)({},M.a.cell_top_border_soft,e%d.N!==0),Object(i.a)({},M.a.cell_left_border_soft,t%d.N!==0),Object(i.a)({},M.a.cell_top_border_hard,e%d.N===0),Object(i.a)({},M.a.cell_left_border_hard,t%d.N===0));return Object(A.jsx)("div",{className:l,onMouseDown:function(){return function(r,e){k((function(t){return[r,e]}))}(e,t)},children:null!==r.value?r.value:Array.from({length:d.N},(function(n,o){return Object(A.jsx)("div",{className:M.a.mark_row,children:Array.from({length:d.N},(function(n,c){return Object(A.jsx)("div",{className:M.a.mark_cell,children:r.marks[o*d.N+c]?o*d.N+c+1:" "},"".concat(e," ").concat(t," ").concat(o," ").concat(c))}))},"".concat(e," ").concat(t," ").concat(o))}))},"".concat(e," ").concat(t))}))},e)}))})},S=t(64),B=t(63),F=t(12),L=t.n(F),I=(t(24),function(r){var e=r.N,t=r.controlFunctions,n=r.editMode,o=r.toggleEditMode;return Object(A.jsxs)("div",{className:L.a.grid,children:[Object(A.jsxs)("div",{className:L.a.row,children:[Object(A.jsx)("button",{className:L.a.action_button,onClick:function(){var r;return(null===(r=t.current)||void 0===r?void 0:r.generate)&&t.current.generate()},children:"Generate"}),Object(A.jsx)("button",{className:L.a.action_button,onClick:function(){var r;return(null===(r=t.current)||void 0===r?void 0:r.solve)&&t.current.solve()},children:"Solve"})]}),Object(A.jsx)("div",{className:L.a.grid,children:Object(A.jsx)(S.a,{control:Object(A.jsx)(B.a,{checked:n,onChange:o,name:"checkedB",color:"primary"}),label:"Edit"})}),Array.from({length:e},(function(r,n){return Object(A.jsx)("div",{className:L.a.row,children:Array.from({length:e},(function(r,o){return Object(A.jsx)("div",{className:L.a.cell,children:Object(A.jsx)("button",{className:L.a.number_button,onClick:function(){var r;return(null===(r=t.current)||void 0===r?void 0:r.loadCell)&&t.current.loadCell(n*e+o+1)},children:n*e+o+1},n*e+o+1)},"".concat(n," ").concat(o))}))},n)}))]})}),J=function(){var r=Object(o.useRef)({}),e=Object(o.useState)(!1),t=Object(n.a)(e,2),c=t[0],a=t[1],l=function(){a((function(r){return!r}))};return Object(A.jsxs)("div",{className:u.a.app,children:[Object(A.jsx)(D,{N:3,controlFunctions:r,editMode:c,toggleEditMode:l}),Object(A.jsx)(I,{N:3,controlFunctions:r,editMode:c,toggleEditMode:l})]})};a.a.render(Object(A.jsx)(J,{}),document.getElementById("root"))},5:function(r,e,t){r.exports={grid:"Grid_grid__1_G_b",row:"Grid_row__2i5tn",cell:"Grid_cell__2Qb8m",selected_cell:"Grid_selected_cell__anmyI",selected_region:"Grid_selected_region__UIGkt",selected_number:"Grid_selected_number__ACSJx",cell_static:"Grid_cell_static__a53Fw",cell_solved:"Grid_cell_solved__2rcXD",cell_invalid:"Grid_cell_invalid__qYQ_B",cell_left_border_soft:"Grid_cell_left_border_soft__3V9ja",cell_top_border_soft:"Grid_cell_top_border_soft__3woQe",cell_left_border_hard:"Grid_cell_left_border_hard__1BuMv",cell_top_border_hard:"Grid_cell_top_border_hard__32fsp",mark_row:"Grid_mark_row__3PPpu",mark_cell:"Grid_mark_cell__2oxgr"}}},[[45,1,2]]]);
//# sourceMappingURL=main.ab0b0c66.chunk.js.map